# foreachAsync vs foreachPartitionAsync

## 개요

Apache Spark의 Java API에서 제공하는 `foreachAsync()`와 `foreachPartitionAsync()`는 비동기 액션 메서드이다.
사용의 목적이 다르다.

---

## 처리 단위 차이

| 메서드                  | 처리 단위 | 설명                                                             |
|-------------------------|------------|------------------------------------------------------------------|
| `foreachAsync()`        | 요소 단위  | RDD의 각 요소에 대해 비동기적으로 함수를 적용                    |
| `foreachPartitionAsync()` | 파티션 단위 | RDD의 각 파티션에 대해 비동기적으로 함수를 적용                 |

---

## 사용 목적 차이

| 메서드                  | 사용 목적                                           |
|-------------------------|----------------------------------------------------|
| `foreachAsync()`        | 각 요소를 독립적으로 처리할 때 (예: 외부 시스템 전송) |
| `foreachPartitionAsync()` | 리소스를 파티션 단위로 효율적으로 관리할 때 (예: DB 연결) |

---

## 예외 처리

- 두 메서드는 모두 비동기 실행이며 `JavaFutureAction.get()`을 통해 완료 여부 및 예외 확인 가능
- 개별 요소/파티션 내 예외는 드라이버에서 바로 확인 어려움 → 명시적 로깅 필요

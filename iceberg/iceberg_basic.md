
# Apache Iceberg 개요 및 특징

## 개요
Apache Iceberg는 대규모 데이터 레이크에서 **신뢰성과 성능**을 갖춘 테이블 포맷을 제공하기 위해 개발된 오픈소스 프로젝트이다.

- 분산 파일 시스템(HDFS, S3 등) 위에서 동작
- Hive와 달리 스냅샷, 트랜잭션, 스키마/파티션 진화 등을 지원
- SQL 엔진(Flink, Spark, Trino 등)과 자연스럽게 통합
- 페타바이트급 데이터를 위한 설계

---

## 주요 특징

| 분류 | 설명 |
|------|------|
| **ACID 트랜잭션 지원** | 원자성, 일관성, 격리성, 지속성을 보장. 스냅샷 기반 커밋 구조로 데이터 무결성 확보 |
| **스냅샷 및 시간 여행 (Time Travel)** | `VERSION AS OF`, `TIMESTAMP AS OF`로 과거 데이터 조회 가능 |
| **버전 롤백** | 장애나 잘못된 작업 시, 과거 안정 상태로 복원 가능 |
| **Schema Evolution** | 컬럼 추가, 삭제, 이름/타입 변경을 무중단으로 적용 가능 |
| **Partition Evolution** | 기존 데이터 유지하며 파티션 전략 변경 가능 (예: 날짜 → 날짜+지역) |
| **Hidden Partitioning** | 파티션 키 노출 없이도 성능 확보. 자동 파티션 프루닝 수행 |
| **동시성 제어 (MVCC 기반)** | 다중 사용자/엔진의 동시 작업에도 충돌 없이 일관성 유지 |
| **다양한 파일 포맷 지원** | Parquet, Avro, ORC 등 지원 |
| **다양한 엔진 통합** | Spark, Flink, Trino, Presto, Hive 등에서 직접 사용 가능 |
| **브랜치/태그 기반 스냅샷 관리** | Git처럼 브랜치를 나누어 실험적 변경 가능, 태그로 스냅샷 고정 및 복원 |

---

## 왜 사용하는가?

| 기존 시스템 문제 | Iceberg로 해결 |
|------------------|----------------|
| Hive는 ACID 트랜잭션 미지원 | 완전한 트랜잭션 지원 |
| 파티션 변경/스키마 변경 어려움 | 유연한 진화 기능 |
| 과거 데이터 조회 불가 | 스냅샷 기반 시간 여행/롤백 가능 |
| 병렬성/동시성 문제 | MVCC로 안정적인 병렬 처리 |
| 쿼리 성능 저하 | 숨겨진 파티셔닝으로 자동 최적화 |

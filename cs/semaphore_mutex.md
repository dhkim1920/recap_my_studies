# Semaphore와 Mutex

## 개요
- **운영체제나 멀티스레드 환경에서의 동기화 도구**
- **공유 자원 보호**, **Race Condition 방지**
- Critical Section에 **동시에 하나 이상의 스레드가 접근하지 않도록 제어**

---

## Semaphore

### 정의
- **정수값을 가지는 동기화 도구**
- 자원 개수에 따라 **여러 스레드가 동시 접근 가능**

### 연산
- `wait()` 또는 `P()` → 값 감소, 0 미만이면 대기
- `signal()` 또는 `V()` → 값 증가, 대기 중인 스레드 깨움

### 종류
- **카운팅 세마포어**: 자원 수만큼 동시 접근 허용
- **이진 세마포어**: 값이 0 또는 1 (뮤텍스와 유사)

### 사용 예
```c
semaphore s = 1;

wait(s);  // 임계 구역 진입
// 임계 구역
signal(s);  // 임계 구역 종료
```

---

## Mutex

### 정의
- **Mutual Exclusion**의 약자
- 오직 **하나의 스레드만 임계 구역 접근 가능**

### 연산
- `lock()` → 잠금
- `unlock()` → 해제 (잠근 스레드만 해제 가능)

### 사용 예 (POSIX C)
```c
pthread_mutex_t mutex = PTHREAD_MUTEX_INITIALIZER;

pthread_mutex_lock(&mutex);
// 임계 구역
pthread_mutex_unlock(&mutex);
```

---

## 4. 차이점 요약

| 구분        | 세마포어                      | 뮤텍스                     |
|-------------|-------------------------------|----------------------------|
| 값 범위     | 0 이상 (n개의 자원)           | 0 또는 1 (binary)          |
| 동시 접근   | 여러 개 가능 (n개 자원)       | 1개만 가능                 |
| 소유권      | 없음                           | 있음 (잠근 스레드만 해제) |
| 사용 목적   | 자원 수 제어                  | 단일 임계구역 보호         |
| 구현 난이도 | 비교적 간단                   | 상대적으로 까다로움        |

---

# UTF-8 BOM과 Endian 정리

## UTF-8 BOM
- UTF-8 BOM(Byte Order Mark)은 파일 맨 앞에 추가되는 3바이트(0xEF 0xBB 0xBF)를 말한다.
- 원래 BOM은 UTF-16, UTF-32 같은 인코딩에서 바이트 순서(Endian)를 알려주기 위해 사용된다.
- **UTF-8에서의 역할?**
  - UTF-8은 바이트 순서에 영향이 없지만, 일부 시스템/에디터가 인코딩을 명확히 하기 위해 BOM을 붙인다. (UTF-8은 순서가 없음)

### 정리

| 구분 | 내용                                                                                     |
|:---|:---------------------------------------------------------------------------------------|
| BOM 유무 | UTF-8 인코딩은 BOM이 필수 아님                                                                  |
| BOM 포함된 UTF-8 | 파일 첫 3바이트에 EF BB BF 추가                                                                 |
| BOM 문제 | 일부 시스템이나 프로그램은 BOM을 문제로 인식해서 파일 읽기는 정상 동작하나<br/>  bash script 등 스크립트가 정상동작 하지 않을 수 있다. |
| 주 사용처 | Windows 메모장, Microsoft 관련 제품은 BOM을 붙이는 걸 선호함                                           |


## Endian (바이트 순서)
- 숫자(다중 바이트 데이터)를 메모리에 저장할 때, "큰 바이트를 먼저 쓸지 작은 바이트를 먼저 쓸지" 결정하는 방식

### 종류

| 구분 | 설명 |
|:---|:---|
| Big Endian | 가장 큰 바이트(상위 바이트)를 먼저 저장 (사람이 숫자 읽는 순서와 비슷) |
| Little Endian | 가장 작은 바이트(하위 바이트)를 먼저 저장 (Intel CPU 기본 방식) |

### 예시

숫자 `0x12345678`을 메모리에 저장할 때

- **Big Endian 저장 방식**
  - 12 34 56 78

- **Little Endian 저장 방식**
  - 78 56 34 12

> 같은 값이지만 메모리에 저장되는 순서가 반대이다.

### 왜 필요한가

- CPU, 시스템마다 Endian 방식이 달라서 서로 다른 시스템 간 데이터 통신할 때 문제가 발생할 수 있다.
- 그래서 파일 포맷이나 네트워크 프로토콜은 Endian 방식을 명확히 하거나 BOM을 넣어서 알려주는 경우가 있다.

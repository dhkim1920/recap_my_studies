# 네트워크 기초 개념 정리

## 통신 모델 (OSI 7계층)

| 계층 | 설명 | 예시 |
|:-----|:-----|:-----|
| 응용 (Application) | 사용자 인터페이스 | HTTP, FTP |
| 표현 (Presentation) | 데이터 변환, 암호화 | JPEG, SSL |
| 세션 (Session) | 연결 제어, 동기화 | NetBIOS |
| 전송 (Transport) | 신뢰성 보장 | TCP, UDP |
| 네트워크 (Network) | 주소 지정, 경로 결정 | IP, ICMP |
| 데이터링크 (Data Link) | 물리적 주소, 오류 감지 | Ethernet, MAC 주소 |
| 물리 (Physical) | 실제 전기 신호 | 케이블, 허브 |

---

## NAT (Network Address Translation)

- 사설 IP ↔ 공인 IP 변환 기술
- 내부 네트워크 장비들이 인터넷(공인망)에 나갈 수 있게 해줌

---

## DNS (Domain Name System)

- 도메인 이름(ex: www.google.com)을 IP 주소(ex: 142.250.206.68)로 변환해주는 시스템

### 주요 역할
- 이름 → IP 매핑

---

## DHCP (Dynamic Host Configuration Protocol)

- 자동으로 IP 주소를 할당해주는 프로토콜입

### 주요 역할
- 네트워크 연결 시 IP, 서브넷 마스크, 게이트웨이, DNS 등을 자동으로 할당합니다.

---

## NTP (Network Time Protocol)

- 네트워크 상의 모든 시스템 시계를 정확하게 동기화하는 프로토콜

---

## 프록시 (Proxy)

- 클라이언트와 서버 사이에 중간에 위치해서 요청을 대신 처리하는 서버

### 기본 역할
- 클라이언트가 직접 서버에 요청하지 않고 프록시 서버를 거쳐 요청하고, 결과를 받아옴

### 동작 흐름
1. 클라이언트 → 프록시 서버에 요청
2. 프록시 서버 → 실제 서버에 요청
3. 실제 서버 → 프록시 서버에 응답
4. 프록시 서버 → 클라이언트에 응답

### 프록시 주요 목적

| 목적 | 설명 |
|:-----|:-----|
| 보안 | 클라이언트 IP를 숨기고 서버에 접근 |
| 캐싱 | 자주 요청되는 데이터를 저장해 빠른 응답 제공 |
| 접근 제어 | 특정 사이트 차단, 트래픽 제한 가능 |
| 로드 밸런싱 | 요청을 여러 서버로 분산시켜 부하 분산 |
| 로깅/모니터링 | 트래픽을 중간에서 감시하고 기록 |

### 프록시 종류

| 종류 | 설명 |
|:-----|:-----|
| 포워드 프록시 (Forward Proxy) | 클라이언트 → 서버 요청 대리 |
| 리버스 프록시 (Reverse Proxy) | 서버 앞에 두고 외부 요청을 서버 대신 받음 |

---

## 로드 밸런서 (Load Balancer)

- 들어오는 트래픽을 여러 서버로 분산시켜주는 장비나 소프트웨어입

### 동작 흐름
1. 클라이언트 → 로드 밸런서에 요청
2. 로드 밸런서 → 여러 서버 중 하나에 요청 전달
3. 서버 → 로드 밸런서 → 클라이언트로 응답

### 로드 밸런싱 방식

| 방식 | 설명 |
|:-----|:-----|
| 라운드 로빈 (Round Robin) | 서버들을 순서대로 골고루 분배 |
| 최소 연결 (Least Connection) | 현재 연결 수가 가장 적은 서버로 분배 |
| IP 해시 (IP Hash) | 클라이언트 IP 기반으로 고정 서버에 분배 |
| 가중치 라운드 로빈 (Weighted Round Robin) | 서버마다 가중치를 다르게 설정해 분배 |
| 건강 체크 (Health Check) | 서버 상태를 주기적으로 점검하고, 죽은 서버는 제외 |

### 로드 밸런서 종류

| 종류 | 설명 |
|:-----|:-----|
| 하드웨어 로드 밸런서 | 전용 장비 (F5, A10 등) |
| 소프트웨어 로드 밸런서 | 소프트웨어 기반 (Nginx, HAProxy) |
| 클라우드 로드 밸런서 | AWS ELB, GCP Load Balancer 등 |

### 로드 밸런서 vs 리버스 프록시

| 항목 | 로드 밸런서 | 리버스 프록시 |
|:-----|:------------|:--------------|
| 주목적 | 트래픽 분산 | 요청 중개 및 서버 보호 |
| 대상 | 여러 서버 | 하나 또는 소수 서버 |
| 예시 | AWS ELB, HAProxy | Nginx, Apache HTTP Server |

---

## 라우터(Router)와 스위치(Switch)

| 항목 | 라우터 (Router) | 스위치 (Switch) |
|:-----|:----------------|:----------------|
| 기본 역할 | 다른 네트워크 간 연결 (IP 기반) | 같은 네트워크 내 장비 연결 (MAC 기반) |
| 기준 정보 | IP 주소 | MAC 주소 |
| 주 용도 | 네트워크 간 트래픽 라우팅 | 네트워크 내부 통신 |
| 계층 (OSI) | 3계층 | 2계층 |
| 주요 기능 | 라우팅, NAT, DHCP, 방화벽 | MAC 주소 학습, 브로드캐스트 분할 |
| 예시 | 공유기, 기업 라우터 | 사무실/서버실 스위치 |

---

### L2 스위치 vs L3 스위치

| 항목 | L2 스위치 (Layer 2 Switch) | L3 스위치 (Layer 3 Switch) |
|:-----|:---------------------------|:---------------------------|
| 기준 계층 | 2계층 | 3계층 |
| 처리 기준 | MAC 주소 | IP 주소 |
| 주요 역할 | 같은 세그먼트 장치 연결 | 서로 다른 세그먼트 연결 (라우팅) |
| 라우팅 기능 | 없음 | 있음 |
| 주 사용처 | 사무실 LAN | 데이터센터 VLAN 간 통신 |

---

## 소켓 통신 (Socket Communication)

- 소켓은 네트워크를 통해 데이터를 주고받기 위한 연결 포인트입니다.
- 소켓은 IP 주소 + 포트 번호 조합으로 식별됩니다.

### 소켓 통신 기본 흐름

| 단계 | 클라이언트 | 서버 |
|:-----|:-----------|:-----|
| 서버 IP와 포트로 연결 요청 | 서버 소켓 생성하고 대기 |
| 연결 요청 전송 | 연결 요청 수락 (Accept) |
| 데이터 송신/수신 | 데이터 송신/수신 |
| 통신 종료 | 통신 종료 및 소켓 닫기 |

---

## Subnetting (서브넷 분할)

- IP 네트워크를 더 작은 네트워크로 나누는 것
- 서브넷 마스크로 네트워크/호스트 영역 구분

### 서브넷 나누기 예시

| 서브넷 | IP 범위 |
|:-------|:--------|
| 192.168.1.0/26 | 192.168.1.0 ~ 192.168.1.63 |
| 192.168.1.64/26 | 192.168.1.64 ~ 192.168.1.127 |
| 192.168.1.128/26 | 192.168.1.128 ~ 192.168.1.191 |
| 192.168.1.192/26 | 192.168.1.192 ~ 192.168.1.255 |

### 서브넷 마스크 표

| CIDR 표기 | 서브넷 마스크 | 호스트 수 (실제 사용 가능) |
|:----------|:--------------|:---------------------------|
| /24 | 255.255.255.0 | 254개 |
| /25 | 255.255.255.128 | 126개 |
| /26 | 255.255.255.192 | 62개 |
| /27 | 255.255.255.224 | 30개 |
| /28 | 255.255.255.240 | 14개 |
| /29 | 255.255.255.248 | 6개 |

---

## CIDR (Classless Inter-Domain Routing)

- IP 주소 뒤에 슬래시(`/`)와 숫자를 붙여서 네트워크 범위를 표기하는 방식입니다.

### CIDR 표기법 예시

| 표기 | 의미 |
|:-----|:-----|
| 192.168.1.0/24 | 앞 24비트가 네트워크 주소 |
| 10.0.0.0/8 | 앞 8비트가 네트워크 주소 |
| 172.16.0.0/16 | 앞 16비트가 네트워크 주소 |

### CIDR과 서브넷 마스크 관계

| CIDR | 서브넷 마스크 | 사용할 수 있는 호스트 수 |
|:----|:--------------|:--------------------------|
| /8 | 255.0.0.0 | 16,777,214개 |
| /16 | 255.255.0.0 | 65,534개 |
| /24 | 255.255.255.0 | 254개 |
| /26 | 255.255.255.192 | 62개 |
| /28 | 255.255.255.240 | 14개 |

---
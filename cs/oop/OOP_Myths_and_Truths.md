# 객체지향 오해와 진실 요약

## 객체 지향이란?
> 객체지향이란, 역할과 책임을 가진 자율적인 객체들이 서로 메시지를 주고받으며 협력해 시스템을 구성하는 방식이다.

---

## 용어·개념 정의

### 다형성 (Polymorphism)

- **정의**: 동일한 메시지(요청)에 대해, 객체마다 **서로 다른 방식으로 응답**할 수 있는 능력을 말한다.
- **의미**: 메시지 발신자는 구체 클래스 구현 방식을 몰라도 동일 메시지를 전송해 협력이 가능하게 해야한다.

### 캡슐화 (Encapsulation)

- **정의**: 객체는 내부 상태를 **캡슐 내부에 감추고** 외부에 직접 노출하지 않아야한다.
- **결과**: 외부는 객체의 행동(인터페이스)만 알면 되며, 구현 변경이 외부에 영향을 주지 않음 → **결합도 감소**

### 추상화 (Abstraction)

- **정의**: 사물 간 **공통점만 취하고 차이점은 버려** 일반화하는 것을 말한다. (단순화)
- **역할**: 복잡성 감소, 개념적 명료화, 코드 재사용 성 증가 

---

## 객체의 본질적 요소

| 구분                | 설명                                                                                   |
| ----------------- |--------------------------------------------------------------------------------------|
| **상태(State)**     | 특정 시점에 객체가 보유한 **정보(프로퍼티) 집합**, 구조적 특징을 표현                                           |
| **행동(Behavior)**  | 메시지를 수신했을 때 **동작·반응하는 활동**,  <br/>- 결과로 자신의 상태를 변경  <br/>- 다른 객체에게 메시지를 전달할 수 있다. |
| **식별자(Identity)** | 어떤 상태에서도 객체를 **유일**하게 구분해 주는 속성                           |

> **핵심 원칙**: *객체를 결정하는 것은 행동*이며, 데이터(상태)는 **행동을 따른다.**

### 상태 ↔ 행동의 관계

1. **행동은 상태에 의존**(현재 상태가 결과를 좌우)
2. **행동은 상태를 변경**
3. **행동 실행 순서**도 결과에 영향을 미친다.

---

## 역할, 책임, 협력

### 역할(Role)

- 여러 객체가 **동일한 역할** 수행 가능 → **대체 가능성** 의미
- 하나의 객체가 **여러 역할** 수행 가능
- 역할은 관련 **책임(Responsibility) 집합**으로 규정

### 책임(Responsibility)

- 객체가 **무엇을 해야 하는가**를 설명, 이때 어떻게는 숨긴다.
- 자율성 수준이 높을 수록 **변경 범위가 좁아지고 명확**

### 협력(Collaboration)

- 객체들은 메시지를 주고받아 **공동 목표**(시스템 기능)를 달성
- 객체 설계의 출발점은 **클래스**가 아니라 **협력 다이어그램**

---

## 객체지향의 본질

> "시스템을 **상호작용하는 자율 객체들의 공동체**로 바라보고, 객체를 이용해 시스템을 분할하는 방법"

1. **자율 객체**: 상태와 행위를 함께 지니며 스스로 책임
2. 객체는 **메시지를 전송**해 협력, 각자 **역할** 수행
3. 메시지에 응답할 **메서드** 선택은 객체의 **자율**
4. 설계 핵심은 **객체, 메시지, 협력** → 클래스는 구현 단계

---

## 커피 전문점 예제: RDD 적용 절차

### 도메인 모델 추출

- **객체**: 손님, 메뉴판, 메뉴 항목, 바리스타, 커피.
- **관계**
  - **합성**
    - 메뉴판▶◀메뉴
  - **연관** 
    - 손님 ↔ 메뉴판 / 손님 ↔ 바리스타 / 바리스타 ↔ 커피

### 시스템 책임 → 세부 책임 분해

| 시스템 책임 | 세부 책임              | 적합한 객체   |
| ------ | ------------------ | -------- |
| 커피 주문  | ① *커피 주문 메시지* 수신   | **손님**   |
|        | ② 메뉴판에서 메뉴 항목 탐색   | **메뉴판**  |
|        | ③ 메뉴 항목을 이용해 커피 제조 | **바리스타** |

### 협력 메시지 흐름

1. **손님** → 손님: `orderCoffee(menuName)` ← UI·컨트롤러 입력
2. **손님** → 메뉴판: `findMenuItem(menuName)` → **MenuItem** 반환
3. **손님** → 바리스타: `makeCoffee(menuItem)` → **Coffee** 반환
4. **손님** ← 바리스타: 완성된 커피 수령

> 메시지가 **객체를 선택**(Information Expert 패턴), 객체는 **책임** 획득

---

## 책임‑주도 설계(RDD) 절차 요약

1. **시스템 책임** 파악 (기능적 요구사항 분석)
2. 책임을 **더 작게** 분할
3. 책임을 수행할 **객체/역할** 탐색 후 할당
4. 책임 수행 중 다른 객체 도움 필요 시, 새로운 객체에 **책임 전가** → 협력 형성

---

## 설계 관점 3단계

1. **개념 관점**: 도메인 개념, 관계를 모델
2. **명세 관점**: 객체 **인터페이스, 책임** 정의 (사용자 입장에서 *무엇*)
3. **구현 관점**: 실제 코드로 행동 구현 (개발자 입장에서 *어떻게*)

> **인터페이스와 구현 분리**가 객체지향 설계의 가장 핵심

---

## 데메테르 법칙 (Law of Demeter)

- "묻지 말고 시켜라" 스타일
- 객체는 **직접 알고 있는 친구**에게만 메시지 전송 → 과도한 의존 차단

---

## 변경에 대한 방어

- 소프트웨어 최대 적 = **변경**
- **캡슐화, 자율성** 회로가 변경 파급 범위 최소화



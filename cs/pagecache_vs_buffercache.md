# 페이지 캐시(Page Cache) vs 버퍼 캐시(Buffer Cache)

## 페이지 캐시 (Page Cache)

* **정의**: OS가 디스크 I/O 성능 향상을 위해 RAM에 유지하는 **파일 내용 데이터**의 캐시
* **단위**: 메모리 **페이지**(일반적으로 4KB)
* **동작**

  * 읽기: 캐시에 있으면 디스크 접근 없이 즉시 응답
  * 쓰기: 캐시에 먼저 기록 후 비동기적으로 디스크에 flush
* **목적**: 파일 **읽기/쓰기** 성능 최적화
* **비고**: `mmap` 시 페이지 캐시가 직접 활용됨

## 버퍼 캐시 (Buffer Cache)

* **정의**: 디스크 **블록** 단위 I/O와 파일 시스템 **메타데이터**(inode, 디렉터리 엔트리 등)를 위한 캐시
* **단위**: 디스크 **블록**
* **동작**: 블록 장치 접근을 캐싱해 메타데이터/블록 I/O 최적화
* **목적**: **블록 디바이스** 성능 최적화
* **비고**: 전통적 UNIX에서 페이지 캐시와 **분리**되어 운영

## 비교 표

| 구분                 | 페이지 캐시 (Page Cache)      | 버퍼 캐시 (Buffer Cache)    |
| ------------------ | ------------------------ | ----------------------- |
| 캐싱 대상              | 파일 **내용 데이터**            | 파일 시스템 **메타데이터**·블록 데이터 |
| 관리 단위              | **페이지**(≈4KB)            | **블록**                  |
| 최적화 초점             | 파일 **읽기/쓰기**             | **블록 장치 I/O**           |
| 전통적 UNIX           | 파일 데이터 캐시                | 메타데이터/블록 캐시             |
| 현대 Linux/BSD/macOS | 파일 데이터와 메타데이터를 **통합 관리** | 사실상 **페이지 캐시에 흡수**      |

## 현대 OS 관점

* 전통적 UNIX는 두 캐시가 분리되어 **이중 캐싱** 가능성이 있었음
* Linux 2.4 이후, BSD·macOS 등은 실질적으로 **페이지 캐시 중심의 통합 구조** 채택
* 실무적으로 “캐시”라고 하면 대부분 **페이지 캐시**를 의미함


## 스타 스키마 (Star Schema)
데이터 웨어하우스를 구축할 때 사용하는 가장 기본적이고 널리 쓰이는 데이터 모델링 구조이다.
이름처럼 가운데에 하나의 테이블을 두고 여러 테이블이 별 모양으로 연결된 형태를 가진다.
**Fact 테이블**이라는 중심부와 그 주변을 둘러싼 **Dimension 테이블**들로 구성된다.

### 사실(Fact) 테이블
비즈니스에서 발생한 사건(Event)과 관련된 숫자 데이터(측정값)를 저장

### 차원(Dimension) 테이블
사실 테이블의 숫자가 누가, 무엇을, 언제, 어디서 발생했는지에 대한 설명(맥락)을 저장

--- 

## Staging Area와 Data Mart 개념 정리
`Staging Area`와 `Data Mart`는 데이터 웨어하우스 아키텍처의 핵심적인 표준 구성 요소다.

### 스테이징·마트로 나누는 이유

- **책임 분리**: Raw는 원본 보존, Staging은 정제, Mart는 집계라는 역할을 계층별로 구분
- **변경 격리**: 스키마 변경이나 로직 수정이 한 계층에서 발생해도 다른 계층에 직접 영향 최소화
- **라인리지 추적**: 어느 단계에서 어떤 변환이 일어났는지 단계별 추적 용이
- **재처리 가능성**: Raw 유지 덕분에 Staging/Mart를 다시 생성(backfill) 가능

### 장점

- **비용·성능 최적화**: 초기 단계에서 불필요 데이터 제거 → 후속 쿼리 스캔량 감소
- **재사용성**: 정제된 Staging 데이터를 여러 Mart나 분석 파이프라인에서 활용 가능
- **회복 탄력성**: DAG 단위로 실패 지점을 구분할 수 있어 장애 시 해당 단계만 재실행 가능
- **협업 효율**: 쿼리·코드 단위가 작아져 코드 리뷰·테스트·협업이 쉬워짐

### 단점

- **파이프라인 복잡도 증가**: 계층이 많아질수록 태스크 수와 관리 포인트가 늘어남
- **스토리지 비용 증가**: 중간 테이블 보관으로 저장소 사용량이 커짐 (다만 BigQuery, Snowflake 같은 MPP DW에서는 상대적으로 부담 적음)

### 1. 핵심 개념 비교

| 구분 | 정의 | 주요 목적 |
| :--- | :--- | :--- |
| **Staging Area*- | DW에 적재하기 전, 원본 데이터를 임시로 보관하는 중간 저장소 | <ul><li>운영 시스템 부하 감소</li><li>데이터 변환(ETL) 작업 공간 확보</li><li>데이터 동기화</li></ul> |
| **Data Mart*- | 특정 목적(부서/업무)을 위해 DW에서 데이터를 추출해 구성한 소규모 DW | <ul><li>분석 쿼리 성능 향상</li><li>사용자 편의성 및 접근성 증대</li><li>데이터 보안 강화</li></ul> |

### 2. 데이터 처리 흐름
데이터는 일반적으로 아래와 같은 순서로 처리된다.

`[원본 소스] → [Staging Area] → [Data Warehouse] → [Data Marts] → [최종 사용자]`

### 3. 요약

-   **Staging Area**: 데이터를 **'받아서 처리하는'*- 준비 단계
-   **Data Mart**: 데이터를 **'목적에 맞게 제공하는'*- 최종 단계




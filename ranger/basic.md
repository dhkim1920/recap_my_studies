**1. "public" 그룹**

* Ranger 내부에 기본 포함된 특수 그룹으로, 현재 존재하는 모든 사용자와 앞으로 생성될 사용자까지 자동으로 속함
* 별도의 가입이나 설정 없이 모든 사용자가 멤버가 됨
* 이 그룹에 권한을 부여하면 사실상 모든 사용자가 해당 리소스에 접근 가능
* 초기 설정에서는 데이터베이스 생성, 기본 테이블 컬럼 생성, `information_schema` 조회 등의 권한이 부여됨
* 필요 시 해당 그룹을 정책에서 제외해 접근 범위를 축소 가능

**2. {OWNER} 엔티티**

* 리소스를 생성한 사용자를 자동으로 소유자로 지정하는 특수 엔티티
* 예를 들어 사용자가 테이블을 만들면, 그 사용자가 해당 테이블의 {OWNER}가 됨
* {OWNER}에게는 해당 리소스에 대한 모든 권한이 부여되는 것이 기본 동작
* 데이터베이스, 테이블, 컬럼, UDF 등 여러 리소스 유형에서 {OWNER} 권한이 적용됨
* 보안 정책상 필요하다면 {OWNER} 권한을 변경하거나 제거할 수 있지만, 그 경우 다른 방식으로 필요한 권한을 별도로 부여해야 함


**1. 정책 유형**

* Ranger에서는 두 가지 형태의 정책을 운영할 수 있습니다.

  1. **리소스 기반 정책**: HDFS, Hive, HBase 등 서비스별로 직접 접근 제어 규칙을 설정
  2. **태그 기반 정책**: 리소스에 지정된 태그를 기준으로 접근 권한을 부여 또는 제한

**2. 리소스 기반 정책**

* 각 서비스(HDFS, Hive, HBase 등)에 대해 개별적으로 정책을 생성
* 특정 디렉토리, 테이블, 컬럼 등 리소스 경로를 기준으로 권한을 설정

**3. 태그 기반 정책**

* 리소스에 태그를 부여하고, 태그를 기반으로 접근 제어를 수행
* 예: `PII`, `PCI`, `PHI` 등 민감 데이터 태그를 붙이면 해당 태그에 대한 접근 정책이 자동 적용됨
* 하나의 태그 기반 정책으로 여러 서비스(HDFS, Hive 등)에 동일하게 적용 가능
* Hive 테이블에 부여한 태그는 그 테이블에서 생성된 뷰에도 동일하게 전파됨
* 리소스 분류(태깅)와 접근 제어(정책)를 분리할 수 있어 관리 효율성이 높음

**4. 태그 속성과 만료 조건 예시**

* 리소스에 `EXPIRES_ON` 같은 태그를 추가하고, `expiry_date` 속성을 설정하여 특정 날짜 이후 접근을 차단
* 정책에서 현재 날짜와 `expiry_date`를 비교하여 조건에 따라 접근 거부 가능

**5. 태그 저장소와 동기화**

* Ranger는 태그 정보를 태그 저장소에 저장하며, 플러그인은 이를 주기적으로 캐싱
* 외부 메타데이터 서비스(예: Apache Atlas)와 동기화 가능
* `Ranger TagSync` 프로세스가 Atlas에서 태그 생성·변경·삭제 이벤트를 받아 Ranger 태그 저장소를 갱신

**6. 컨텍스트 강화기(RangerTagEnricher)**

* 접근 요청 시 리소스에 적용된 태그를 찾아 요청 정보에 추가
* 캐시를 사용해 성능 저하를 방지하고, 주기적으로 최신 태그 정보로 갱신

**7. 조건 기반 접근 제어**

* 정책에서 사용자, 그룹, 리소스 속성, 요청 컨텍스트를 활용해 세분화된 접근 제어 가능
* 예: `finance` 그룹은 접근 허용, `interns` 그룹은 차단, 단 특정 사용자만 예외 허용
* 태그 만료 정책(EXPIRES\_ON)도 이러한 조건 기반 접근의 한 예

**1. 리소스 정책**

* 리소스 기반 정책 목록을 확인하고 관리할 수 있는 메뉴
* 특정 정책명을 클릭하면 해당 서비스의 정책 관리 화면으로 이동
* 여기서 서비스별 접근 제어 정책을 생성·수정·삭제 가능

**2. 태그 정책**

* 태그 기반 정책 목록을 표시하는 메뉴
* 정책명을 클릭하면 해당 태그 기반 서비스의 정책 관리 화면으로 이동
* 리소스에 부여된 태그를 기반으로 접근 제어 규칙을 설정 가능

**3. 보고서(Reports)**

* 정책 이름, 리소스, 그룹, 사용자명 등 조건을 지정해 접근 보고서 생성
* 리소스 기반 및 태그 기반 정책 모두에 대해 사용자 접근 내역을 조회 가능

**4. 감사(Audit)**

* 접근 로그, 관리자 활동, 로그인 세션, 플러그인 상태, 사용자 동기화 내역 등 모니터링
* 특정 이벤트나 사용자, 그룹, 시간 조건에 따라 감사 조건을 세분화 가능

**5. 보안 영역(Security Zones)**

* 리소스 기반 서비스와 태그 기반 서비스를 별도의 영역으로 구분
* 각 보안 영역에 전담 관리자를 지정해 정책 생성·변경 권한 부여 가능

**6. 설정(Settings)**

* 사용자, 그룹, 역할별 권한 관리 메뉴
* 정책 권한 부여 및 회수 작업 가능
